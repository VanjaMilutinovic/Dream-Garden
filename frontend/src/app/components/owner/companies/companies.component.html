<!-- COMPANIES -->
<div class="container">
    <h2>Kompanije i radnici</h2>
    <div class="mb-3">
      <div class="row">
          <div class="col-md-4">
          <input type="text" class="form-control" placeholder="Pretraži po imenu" [(ngModel)]="searchTermName">
          </div>
          <div class="col-md-4">
          <input type="text" class="form-control" placeholder="Pretraži po adresi" [(ngModel)]="searchTermAddress">  
          </div>
          <div class="col-md-4 d-flex flex-column" >
              <button class="btn btn-primary mb-1" (click)="search()">Pretraži</button>
              <button class="btn btn-secondary mb-1" (click)="sortByName()">Sortiraj po imenu ({{ sortDirectionName }})</button>
              <button class="btn btn-secondary" (click)="sortByAddress()">Sortiraj po adresi ({{ sortDirectionAddress }})</button>
          </div>
      </div>        
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID Kompanije</th>
          <th>Ime Kompanije</th>
          <th>Adresa</th>
          <th>Radnici</th>
          <th>Ocena</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let company of viewCompanies; let i = index">
          <td>{{ company.companyId }}</td>
          <td><a (click)="viewCompany(company)" style="color: blueviolet;">{{ company.name }}</a></td>
          <td>{{ company.address }}</td>
          <td>
            <ul>
              <li *ngFor="let worker of company.workers">
                {{ worker.name }} {{ worker.lastname }}
              </li>
            </ul>
          </td>
          <td *ngIf="company.rating>0">
            <svg height="23" width="115" version="1.1" id="Capa_1" viewBox="0 42.65 6.891375 1.378275" xml:space="preserve" sodipodi:docname="star-svgrepo-com.svg"
            inkscape:version="1.2.2 (b0a8486541, 2022-12-01)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
            xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
            <rect><title>{{ company.rating+'/5' }}</title></rect>
            <defs>
              <linearGradient [id]="'zvezde'+i">
                <stop offset="0%" stop-color="#f48fb1" />
                <stop [attr.offset]="company.rating*20+'%'" stop-color="#f48fb1" />
                <stop [attr.offset]="company.rating*20+'%'"stop-color="#333" />
                <stop offset="100%" stop-color="#333" />
              </linearGradient>
            </defs>
            <path
            [style.fill]="'url(#zvezde'+i+')'"
            id="path2"
            d="M 4.8233773 42.701498 C 4.7974348 42.701498 4.7715139 42.715071 4.7581854 42.742111 L 4.605798 43.050865 C 4.5952031 43.072335 4.5747228 43.087142 4.5510229 43.090542 L 4.2103165 43.140051 C 4.1506345 43.148702 4.1268834 43.222131 4.1700543 43.264231 L 4.4165427 43.504516 C 4.4336727 43.521226 4.4415531 43.545309 4.4374931 43.568889 L 4.3793237 43.908191 C 4.369123 43.967621 4.4315237 44.01304 4.4848947 43.98497 L 4.7895524 43.824741 C 4.8107424 43.813611 4.8361302 43.813611 4.8573192 43.824741 L 5.161977 43.98497 C 5.2153478 44.013011 5.2777479 43.967621 5.2675479 43.908191 L 5.2093786 43.568889 C 5.2053226 43.545299 5.2131959 43.521226 5.2303289 43.504516 L 5.4768173 43.264231 C 5.5199882 43.222159 5.4962381 43.148751 5.4365552 43.140051 L 5.0958488 43.090542 C 5.0721498 43.087102 5.0516676 43.072335 5.0410736 43.050865 L 4.8886862 42.742111 C 4.8753433 42.715071 4.8493198 42.701498 4.8233773 42.701498 z M 3.4586791 42.701732 C 3.4327366 42.701732 3.4068157 42.715305 3.3934872 42.742345 L 3.2410998 43.0511 C 3.2305048 43.07257 3.2100246 43.087494 3.1863246 43.090894 L 2.8456182 43.140402 C 2.7859353 43.149053 2.7621861 43.222365 2.8053561 43.264465 L 3.0518445 43.504751 C 3.0689735 43.521461 3.0768548 43.545543 3.0727948 43.569123 L 3.0146254 43.908425 C 3.0044246 43.967855 3.0668255 44.013274 3.1201964 43.985204 L 3.4248542 43.824975 C 3.4460452 43.813845 3.471432 43.813845 3.4926209 43.824975 L 3.7972787 43.985204 C 3.8506495 44.013245 3.9130497 43.967855 3.9028497 43.908425 L 3.8446803 43.569123 C 3.8406243 43.545533 3.8484977 43.521461 3.8656307 43.504751 L 4.112119 43.264465 C 4.15529 43.222393 4.1315399 43.149102 4.0718569 43.140402 L 3.7311505 43.090894 C 3.7074516 43.087454 3.6869693 43.07257 3.6763753 43.0511 L 3.5239879 42.742345 C 3.510645 42.715305 3.4846215 42.701732 3.4586791 42.701732 z M 6.1886607 42.702317 C 6.1635412 42.703136 6.1387217 42.716619 6.1258097 42.742814 L 5.9735394 43.051568 C 5.9629444 43.073038 5.9424641 43.087962 5.9187642 43.091362 L 5.5779407 43.14087 C 5.5182588 43.149521 5.4945077 43.222834 5.5376786 43.264933 L 5.784167 43.505219 C 5.801297 43.521929 5.8091773 43.546128 5.8051173 43.569708 L 5.7469479 43.90901 C 5.7367473 43.96844 5.799148 44.013742 5.8525189 43.985672 L 6.1571767 43.825443 C 6.1783667 43.814313 6.2037545 43.814313 6.2249435 43.825443 L 6.5296012 43.985672 C 6.582972 44.013714 6.6453722 43.96844 6.6351722 43.90901 L 6.5770028 43.569708 C 6.5729468 43.546118 6.5808202 43.521929 6.5979532 43.505219 L 6.8444416 43.264933 C 6.8876125 43.222862 6.8638624 43.14957 6.8041794 43.14087 L 6.463473 43.091362 C 6.4397741 43.087922 6.4192928 43.073038 6.4086979 43.051568 L 6.2563104 42.742814 C 6.2425508 42.714929 6.2154009 42.701446 6.1886607 42.702317 z M 2.0884799 42.706882 C 2.0633603 42.707701 2.0386584 42.721183 2.0257459 42.747378 L 1.8733585 43.056132 C 1.8627635 43.077602 1.8422823 43.092526 1.8185833 43.095926 L 1.4778769 43.145435 C 1.418194 43.154085 1.3943278 43.227398 1.4374978 43.269498 L 1.6841032 43.509783 C 1.7012322 43.526493 1.7089965 43.550566 1.7049365 43.574156 L 1.6467671 43.913575 C 1.6365663 43.973005 1.6989671 44.018307 1.7523381 43.990237 L 2.0571129 43.830008 C 2.0783029 43.818878 2.1035726 43.818878 2.1247626 43.830008 L 2.4295374 43.990237 C 2.4829082 44.018278 2.5453094 43.973005 2.5351084 43.913575 L 2.476939 43.574156 C 2.472881 43.550566 2.4806393 43.526493 2.4977723 43.509783 L 2.7443777 43.269498 C 2.7875487 43.227426 2.7636815 43.154135 2.7039986 43.145435 L 2.3632922 43.095926 C 2.3395942 43.092486 2.319113 43.077602 2.308517 43.056132 L 2.1561296 42.747378 C 2.1423695 42.719493 2.11522 42.706011 2.0884799 42.706882 z M 0.71570581 42.709808 C 0.69058625 42.710627 0.665767 42.724109 0.65285479 42.750304 L 0.50046738 43.059058 C 0.48987199 43.080528 0.46939076 43.095452 0.44569219 43.098852 L 0.10498579 43.148361 C 0.045302501 43.157012 0.021553345 43.230324 0.064723682 43.272424 L 0.31121206 43.512709 C 0.32834494 43.529419 0.3362204 43.553502 0.3321624 43.577082 L 0.27399302 43.916501 C 0.26379219 43.975931 0.32619287 44.021233 0.37956401 43.993163 L 0.68422178 43.832934 C 0.70541246 43.821804 0.73079805 43.821804 0.75198853 43.832934 L 1.0566463 43.993163 C 1.1100171 44.021205 1.1724183 43.975931 1.1622173 43.916501 L 1.1040479 43.577082 C 1.0999899 43.553492 1.1078653 43.529419 1.1249982 43.512709 L 1.3714866 43.272424 C 1.4146576 43.230351 1.3909075 43.157061 1.3312245 43.148361 L 0.99051812 43.098852 C 0.96681954 43.095412 0.94622127 43.080528 0.93562588 43.059058 L 0.78335552 42.750304 C 0.76959554 42.722419 0.74244599 42.708937 0.71570581 42.709808 z " />
         </svg>
          </td>
          <td *ngIf="company.rating==0">Kompanija nije ocenjena</td>
        </tr>
      </tbody>
    </table>
</div>
  
